# compete.toml è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®èª¬æ˜

`cargo-compete`ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹`compete.toml`ã®å„é …ç›®ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã«ã¯3ã¤ã®`compete.toml`ãŒã‚ã‚Šã¾ã™ï¼š

1. **`alg/compete.toml`**: ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚³ãƒ³ãƒ†ã‚¹ãƒˆç”¨
2. **`hrc/compete.toml`**: Heuristic Contestç”¨
3. **`compete.toml`**: ãƒ«ãƒ¼ãƒˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã€å‚è€ƒç”¨ï¼‰

## ğŸ”§ ä¸»è¦ãªè¨­å®šé …ç›®

### 1. `test-suite` - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹

```toml
test-suite = "{{ manifest_dir }}/testcases/{{ bin_alias }}.yml"
```

**èª¬æ˜**:
- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’æŒ‡å®š
- **Liquidãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**ã‚’ä½¿ç”¨ï¼ˆ`{{ }}`ã§å¤‰æ•°ã‚’å±•é–‹ï¼‰
- `manifest_dir`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- `bin_alias`: å•é¡Œã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆä¾‹: "a", "b"ï¼‰

**ä¾‹**: `abc100-a`ã®å ´åˆ â†’ `testcases/a.yml`

---

### 2. `[template]` - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```toml
[template]
src = '''
fn main() {
    todo!();
}
'''
```

**èª¬æ˜**:
- `cargo compete new`ã§æ–°ã—ã„å•é¡Œã‚’ä½œæˆã™ã‚‹éš›ã®**åˆæœŸã‚³ãƒ¼ãƒ‰**
- ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå„å•é¡Œã®`src/bin/{problem}.rs`ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹
- `todo!()`ã¯å®Ÿè£…å‰ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼

---

### 3. `[template.new]` - æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š

#### `edition`

```toml
edition = "2021"
```

**èª¬æ˜**:
- Rustã®ã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ï¼ˆè¨€èªãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
- `2018`, `2021`ãŒä¸€èˆ¬çš„
- AtCoderã§ã¯`2021`ãŒæ¨å¥¨

#### `dependencies`

**alg/compete.toml**:
```toml
dependencies = '''
proconio = { version = "0.4", features = ["derive"] }
'''
```

**hrc/compete.toml**:
```toml
dependencies = '''
proconio = { version = "0.4", features = ["derive"] }
rand = "0.8"
rand_pcg = "0.3"
'''
```

**èª¬æ˜**:
- æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã«è‡ªå‹•çš„ã«`Cargo.toml`ã«è¿½åŠ ã•ã‚Œã‚‹ä¾å­˜é–¢ä¿‚
- **alg**: åŸºæœ¬çš„ãªå…¥åŠ›ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿
- **hrc**: å…¥åŠ›ç”¨ + ä¹±æ•°ç”Ÿæˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆç„¼ããªã¾ã—æ³•ãªã©ã§ä½¿ç”¨ï¼‰

**å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª¬æ˜**:
- `proconio`: AtCoderç”¨ã®é«˜é€Ÿå…¥åŠ›ãƒã‚¯ãƒ­
- `rand`: æ¨™æº–çš„ãªä¹±æ•°ç”Ÿæˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- `rand_pcg`: è»½é‡ã§é«˜é€Ÿãªç–‘ä¼¼ä¹±æ•°ç”Ÿæˆå™¨ï¼ˆAHCã§é‡è¦ï¼‰

---

### 4. `[new]` - ã‚³ãƒ³ãƒ†ã‚¹ãƒˆå–å¾—ã®è¨­å®š

```toml
[new]
kind = "cargo-compete"
platform = "atcoder"
path = "./{{ contest }}"
```

**èª¬æ˜**:
- `cargo compete new <contest>`å®Ÿè¡Œæ™‚ã®å‹•ä½œã‚’å®šç¾©
- `kind`: å–å¾—æ–¹æ³•ï¼ˆ`cargo-compete`ã¯AtCoderå…¬å¼APIã‚’ä½¿ç”¨ï¼‰
- `platform`: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åï¼ˆ`atcoder`, `codeforces`, `yukicoder`ï¼‰
- `path`: ã‚³ãƒ³ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆå ´æ‰€
  - `{{ contest }}`: ã‚³ãƒ³ãƒ†ã‚¹ãƒˆIDï¼ˆä¾‹: "abc100", "ahc001"ï¼‰

**ä¾‹**:
```bash
cd alg
cargo compete new abc100
# â†’ alg/abc100/ ãŒä½œæˆã•ã‚Œã‚‹

cd hrc
cargo compete new ahc001
# â†’ hrc/ahc001/ ãŒä½œæˆã•ã‚Œã‚‹
```

---

### 5. `[test]` - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®è¨­å®š

```toml
[test]
toolchain = "1.70.0"
profile = "release"
```

**èª¬æ˜**:
- `cargo compete test`å®Ÿè¡Œæ™‚ã®è¨­å®š
- `toolchain`: ä½¿ç”¨ã™ã‚‹Rustã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³
  - AtCoderã®ç’°å¢ƒã«åˆã‚ã›ã‚‹ï¼ˆç¾åœ¨ã¯1.70.0ï¼‰
- `profile`: ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
  - `"dev"`: ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€é…ã„ï¼‰
  - `"release"`: ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ï¼ˆæœ€é©åŒ–ã€é«˜é€Ÿï¼‰â† **AHCã§ã¯å¿…é ˆ**

**ãªãœ`release`ãŒé‡è¦ï¼Ÿ**
- AHCã§ã¯å®Ÿè¡Œæ™‚é–“ãŒé‡è¦
- `dev`ãƒ“ãƒ«ãƒ‰ã¯10å€ä»¥ä¸Šé…ã„ã“ã¨ãŒã‚ã‚‹
- ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã§ã‚‚æœ¬ç•ªç’°å¢ƒã«è¿‘ã„é€Ÿåº¦ã§ç¢ºèªã—ãŸã„

---

### 6. `[submit]` - æå‡ºã®è¨­å®š

```toml
[submit]
kind = "file"
path = "{{ src_path }}"
language_id = "5050"
```

**èª¬æ˜**:
- `cargo compete submit`å®Ÿè¡Œæ™‚ã®è¨­å®š
- `kind`: æå‡ºæ–¹æ³•
  - `"file"`: ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥æå‡º
  - `"command"`: ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ç”Ÿæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æå‡ºï¼ˆ`cargo equip`ãªã©ï¼‰
- `path`: æå‡ºã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹
  - `{{ src_path }}`: ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ï¼ˆä¾‹: `src/bin/abc100-a.rs`ï¼‰
- `language_id`: AtCoderã®è¨€èªID
  - `"5050"`: Rust (1.70.0) â† **ç¾åœ¨ã®AtCoderç’°å¢ƒ**
  - `"4050"`: Rust (1.42.0) â† å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³

---

## ğŸ”„ alg/ ã¨ hrc/ ã®é•ã„

| é …ç›® | alg/compete.toml | hrc/compete.toml |
|------|------------------|------------------|
| **ç”¨é€”** | ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å•é¡Œ | ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯å•é¡Œ |
| **ä¾å­˜é–¢ä¿‚** | `proconio`ã®ã¿ | `proconio` + `rand` + `rand_pcg` |
| **ä½¿ç”¨ä¾‹** | ABC, ARC, AGC | AHC (AtCoder Heuristic Contest) |

**ãªãœåˆ†ã‘ã‚‹ï¼Ÿ**
- ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å•é¡Œã§ã¯ä¹±æ•°ç”Ÿæˆã¯ä¸è¦
- ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯å•é¡Œã§ã¯ä¹±æ•°ç”ŸæˆãŒå¿…é ˆï¼ˆç„¼ããªã¾ã—æ³•ãªã©ï¼‰
- ä¾å­˜é–¢ä¿‚ã‚’æœ€å°åŒ–ã—ã¦ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®

---

## ğŸ“ ä½¿ç”¨ä¾‹

### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚³ãƒ³ãƒ†ã‚¹ãƒˆï¼ˆABC100ï¼‰

```bash
cd alg
cargo compete new abc100
# â†’ alg/abc100/ ãŒä½œæˆã•ã‚Œã‚‹
# â†’ Cargo.tomlã«proconioãŒè¿½åŠ ã•ã‚Œã‚‹

cd abc100
cargo compete test abc100-a
# â†’ releaseãƒ¢ãƒ¼ãƒ‰ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

cargo compete submit abc100-a
# â†’ src/bin/abc100-a.rs ã‚’æå‡º
```

### Heuristic Contestï¼ˆAHC001ï¼‰

```bash
cd hrc
cargo compete new ahc001
# â†’ hrc/ahc001/ ãŒä½œæˆã•ã‚Œã‚‹
# â†’ Cargo.tomlã«proconio, rand, rand_pcgãŒè¿½åŠ ã•ã‚Œã‚‹

cd ahc001
cargo compete test ahc001-a
# â†’ releaseãƒ¢ãƒ¼ãƒ‰ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

cargo compete submit ahc001-a
# â†’ src/bin/ahc001-a.rs ã‚’æå‡º
```

---

## ğŸ¯ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

1. **`profile = "release"`**: AHCã§ã¯å¿…é ˆã€‚ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã§ã‚‚æœ¬ç•ªã«è¿‘ã„é€Ÿåº¦ã§ç¢ºèª
2. **`language_id = "5050"`**: AtCoderã®ç¾åœ¨ã®Rustç’°å¢ƒã«åˆã‚ã›ã‚‹
3. **ä¾å­˜é–¢ä¿‚ã®æœ€å°åŒ–**: ä¸è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯è¿½åŠ ã—ãªã„ï¼ˆãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®ï¼‰
4. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: åˆæœŸã‚³ãƒ¼ãƒ‰ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã€ã‚ˆãä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å…¥ã‚Œã¦ãŠã

---

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ãƒ‡ãƒãƒƒã‚°ç”¨ã®ãƒã‚¯ãƒ­ã‚’è¿½åŠ 

```toml
[template]
src = '''
use proconio::input;

fn main() {
    input! {
        // å…¥åŠ›
    }
    
    // ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›ï¼ˆæå‡ºæ™‚ã¯è‡ªå‹•ã§å‰Šé™¤ã•ã‚Œã‚‹ï¼‰
    eprintln!("Debug: {:?}", value);
    
    println!("{}", answer);
}
'''
```

### ã‚ˆã‚Šè©³ç´°ãªãƒ†ã‚¹ãƒˆè¨­å®š

```toml
[test]
toolchain = "1.70.0"
profile = "release"
# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆç§’ï¼‰
timeout = 5
```

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [cargo-competeå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://github.com/qryxip/cargo-compete)
- [AtCoder Rustç’°å¢ƒ](https://atcoder.jp/contests/abs/submissions/me)
- [proconioãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.rs/proconio/)

